{
    "game": {
        "name": "House Explorer",
        "version": "0.3.0"
    },
    "help": [
        "Welcome to House Explorer! This game is a work in progress. Try these commands to interact with your environment:",
        "  look                   Show the description of the current location.",
        "  look at <object>       Show the description of the <thing>.",
        "  north/south/east/west  Move in that direction.",
        "  inventory              List the items in your inventory.",
        "  take/drop <object>     Add or remove an item to your inventory.",
        "  open/close <object>    Open or close an object",
        "  "
    ],
    "player": {
        "items": [ "LOCKPICK" ]
    },
    "rooms": {
        "startroom": "BOTTOM_OF_DRIVEWAY",
        "roomlist": {
            "BOTTOM_OF_DRIVEWAY": {
                "name": "Bottom of Driveway",
                "description": "You are standing at the bottom of a driveway. There is a mid-sized ranch house to the north with a large front yard with some trees and bushes.",
                "basic_items": [ "driveway" ],
                "items": [ "HOUSE_FAR", "HOUSE_YARD" ],
                "moves": {
                    "north": "TOP_OF_DRIVEWAY",
                    "south": "STREET_1"
                }
            },
            "TOP_OF_DRIVEWAY": {
                "name": "Top of Driveway",
                "description": "You are now directly in front of the house. The driveway is full of cracks and the house looks abandoned. There is a path to the backyard to the north, as well as a mailbox next to the front door. A basketball hoop is mounted on the house.",
                "basic_items": [ "driveway", "basketball hoop" ],
                "items": [ "MAILBOX", "BASKETBALL", "HOUSE_NEAR" ],
                "moves": {
                    "south": "BOTTOM_OF_DRIVEWAY"
                }
            },
            "STREET_1": {
                "name": "Street in Front of House",
                "description": "You are standing in the middle of the street. A white house is to the north. Forest lines the south side of the street as far as you can see.",
                "basic_items": [ "street", "forest" ],
                "moves": {
                    "north": "BOTTOM_OF_DRIVEWAY",
                    "south": "FOREST_1"
                }
            },
            "FOREST_1": {
                "name": "The Forest",
                "description": "The trees around you are tall and thick. The ground is dry and covered in fallen leaves and branches. The air is cool and calm. The street is to your north, and the forest continues to the south.",
                "basic_items": [ "leaves", "branches", "air", "ground" ],
                "items": [ "FOREST_TREES" ],
                "moves": {
                    "north": "STREET_1",
                    "south": "FOREST_2"
                }
            },
            "FOREST_2": {
                "name": "The Forest",
                "description": "The canopy grows thicker, blocking out more sunlight. The forest continues to the north and there is a clearing further to the south.",
                "basic_items": [ "leaves", "branches", "air", "ground" ],
                "items": [ "FOREST_TREES" ],
                "moves": {
                    "north": "FOREST_1",
                    "south": "CLEARING"
                }
            },
            "CLEARING": {
                "name": "A Clearing",
                "description": "You enter a small clearing in the forest. Shadows from the trees around you dance on the grass.",
                "basic_items": [ "sky" ],
                "npcs": [ "FRED_THE_TYROMANCER" ],
                "moves": {
                    "north": "FOREST_2"
                }
            }
        }
    },
    "items": {
        "LOCKPICK": {
            "description": "This is a standard lockpick.",
            "can_take": true
        },
        "HOUSE_FAR": {
            "name": "house,white house",
            "description": "The house has brick walls with white sidings. The house looks decrepit and there is no sign of anyone living here."
        },
        "HOUSE_YARD": {
            "keywords": "yard,front yard"
        },
        "MAILBOX": {
            "description": "This is a standard mailbox sitting on a wooden post.",
            "can_open": true,
            "contains_items": [ "LEAFLET" ]
        },
        "LEAFLET": {
            "description": "Welcome to House Explorer! This is a small tech demo built on the text-adventure game engine.",
            "can_take": true
        },
        "BASKETBALL": {
            "description": "It is round and orange with bumps all over.",
            "description_for_room": "A basketball sits dejectedly on the side of the driveway.",
            "can_take": true
        },
        "HOUSE_NEAR": {
            "keywords": "house,white house",
            "description": "Several windows are boarded up, the rest are covered in grime. The bushes around the house are overgrown."
        },
        "FOREST_TREES": {
            "keywords": "trees",
            "description": "The trees tower up into the sky. Their branches stretch to form a canopy, blocking sunlight."
        },
        "FRED_GOUDA": {
            "keywords": "gouda,cheese",
            "description": "The slice of aged cheese gives off a soft, tangy aroma and appears to be half-eaten."
        },
        "PLAYER_GOUDA": {
            "keywords": "gouda,cheese",
            "description": "This piece of Gouda from Fred smells delicious."
        }
    },
    "npcs": {
        "FRED_THE_TYROMANCER": {
            "name": "Wizard",
            "keywords": "wizard,man",
            "description": "The wizard is leaning on a tree, seemingly lost in thought. He is wearing a long purple robe and has a slice of Gouda in his hand. He seems harmless enough.",
            "description_for_room": "A wizard is here. He pays no attention to your arrival.",
            "basic_items": [ "robe" ],
            "items": [ "FRED_GOUDA" ],
            "dialog": {
                "greeting": "The wizard looks towards you but says nothing.",
                "start_tree": "FRED1"
            }
        }
    },
    "dialog_trees": {
        "FRED1": [
            {
                "id": "FRED1_NAME",
                "choice": "What is your name?",
                "response": "I am a man of many names, but there are those who call me Fred.",
                "effects": [
                    {
                        "type": "change_name",
                        "target_item": "FRED_THE_TYROMANCER",
                        "name": "Fred"
                    },
                    {
                        "type": "change_description_for_room",
                        "target_item": "FRED_THE_TYROMANCER",
                        "description_for_room": "Fred the Tyromancer is here, leaning against a tree."
                    },
                    {
                        "type": "add_dialog_option",
                        "target_tree": "FRED1",
                        "dialog_option": {
                            "id": "FRED1_SPELLS",
                            "choice": "Can you teach me some spells?",
                            "response": "Alas, I cannot. I am a tyromancer, a wizard gifted with skills of divination through coagulated dairy products.",
                            "effects": [
                                {
                                    "type": "add_dialog_option",
                                    "target_tree": "FRED1",
                                    "afterId": "FRED1_SPELLS",
                                    "dialog_option": {
                                        "id": "FRED1_CHEESE_MAGIC",
                                        "choice": "Wait, so you do magic with cheese?",
                                        "response": "Your question betrays your own ignorance, but that description is not altogether unfitting."
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "type": "add_dialog_option",
                        "target_tree": "FRED1",
                        "dialog_option": {
                            "id": "FRED1_ASK_FOR_CHEESE",
                            "choice": "Can I have that piece of cheese?",
                            "response": "This is a wedge of my prized Gouda, so I'm afraid not.",
                            "effects": [
                                {
                                    "type": "add_dialog_option",
                                    "target_tree": "FRED1",
                                    "afterId": "FRED1_ASK_FOR_CHEESE",
                                    "dialog_option": {
                                        "id": "FRED_GIVE_CHEESE",
                                        "choice": "Come on, please? It looks delicious...",
                                        "response": "My, you are persistent. I shall give you a piece but that shall be the only one.",
                                        "effects": [
                                            {
                                                "type": "add_item_to_inventory",
                                                "item": "PLAYER_GOUDA"
                                            },
                                            {
                                                "type": "remove_dialog_option",
                                                "target_tree": "FRED1",
                                                "dialog_option": "FRED_GIVE_CHEESE"
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
}
